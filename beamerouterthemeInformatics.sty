\mode<presentation>

\newif\ifbeamer@Informatics@noseperators
\DeclareOptionBeamer{noseperators}[true]{\csname beamer@Informatics@noseperators#1\endcsname}

\newcommand{\beamerinfothemeaddlimiter}[1]{%
  \setbox\beamer@tempbox=\hbox{#1}%
  \ifdim\wd\beamer@tempbox>1pt%
    \ifbeamer@Informatics@noseperators%
      \hskip1.5ex
    \else%
      {\hskip0.5ex\textcolor{infoRed}{\textbar}}
    \fi
    #1
  \fi%
}

\defbeamertemplate*{headline}{Informatics theme}{
  \begin{tikzpicture}[remember picture,overlay]
    % Informatics logo
    \node (informaticsLogo) [%
        anchor=north west,
        inner sep=0pt,
        outer sep=0pt,
        ] at ($(current page.north east)+(-1.25cm,-0.25cm)$) {%
        \includegraphics[height=1.0cm]{logos/InformaticsUni_CMYK.eps}
    };
  \end{tikzpicture}
}

\defbeamertemplate*{frametitle}{Informatics theme}{
  \usebeamercolor{frametitle}\usebeamerfont{frametitle}\insertframetitle
  \beamerinfothemeaddlimiter{\usebeamerfont{framesubtitle}\textcolor{infoBlue}{\insertframesubtitle}}
  \vskip0pt%
} 

\defbeamertemplate*{footline}{Informatics theme}
{
  \begin{tikzpicture}[remember picture,overlay]
    \node (page) [%
      anchor=south east,
      xshift=-0.2cm,
      yshift=0.1cm,
    ] at (current page.south east) {%
      \usebeamerfont{section in head/foot}\insertframenumber/\inserttotalframenumber
    };
  \end{tikzpicture}
}

\defbeamertemplate*{title page}{Informatics theme}[1][]{
    \begin{tikzpicture}[remember picture,overlay]
        \node (backgroundImage) [
            anchor=north west,
            draw=headerGrey,
            opacity=1.0,
            inner sep=0pt
            ] at ($(current page.north west)+(0,-1.4)$) {%
            \includegraphics[width=\paperwidth]{background.jpg}
        };
        % top rectangle
        \node (header) [%
            shape=rectangle, 
            text opacity=1, 
            fill=headerGrey,
            inner sep=0pt,
            outer sep=0pt,
            minimum height=0.155556\paperheight,
            minimum width=\paperwidth, 
            anchor=north,
            ] at (current page.north) {};
        % Informatics logo
        \node (informaticsLogo) [%
            anchor=north west,
            inner sep=0pt,
            ] at ($(current page.north west)+(0.2,-0.2)$) {%
            \includegraphics[height=0.111111\paperheight]{logos/InformaticsUni_CMYK.eps}
        };
        \node (titleArea) [%
            shape=rectangle, 
            fill=white,
            fill opacity=0.6,
            text opacity=1, 
            minimum height=0.42\paperheight,
            minimum width=\paperwidth,
            anchor=north west,
            yshift=-2.8cm,
        ] at (current page.north west) {};
        \node[
          anchor=north east,
          align=right,
          xshift=-0.2cm,
        ] (author) at (titleArea.north east) {%
              \usebeamerfont{author}\insertauthor\\
              \usebeamerfont{date}\insertdate
        };
        \node[
          anchor=north west,
          xshift=0.7cm,
          yshift=-0.9cm,
        ] (title) at (titleArea.north west) {%
          \usebeamerfont{title}\usebeamercolor[fg]{title}\inserttitle
        };
        \node[
          anchor=north west,
        ] (subtitle) at (title.south west) {%
          \usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle
        };
        % moonshot logo
        \node (moonshotLogo) [%
            anchor=south west,
            inner sep=0pt,
            xshift=0.7cm,
            yshift=1mm,
            ] at (titleArea.south west) {%
              \includegraphics[height=0.1\paperheight]{logos/moonshot.png}
        };
    \end{tikzpicture}
}

\mode<all>
